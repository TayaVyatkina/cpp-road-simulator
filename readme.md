# Описание основных структур

1. Класс ClicksHandler из пространства road_similator выполняет роль Фасада, упрощающего взаимодействие с пользователем программы. Представляет собой агрегацию классов Car, Road. А также создаёт в конструкторе экземпляры наблюдателя (class TrafficLawsObserver) и чертёжника(class ConsoleDrawer), образуя зависимость типа create. В этот класс также вынесена "заглушка", возвращающая машину в исходное положение при схождении с трассы.
2. Класс Car из пространства car помогает имитировать транспортное средство. Внутри содержит структуру, отображающую координаты объекта в пространстве: участок дороги, сторона движения, направление взгляда водителя (куда направлена передняя часть машины).
3. Класс Road из пространства road выполняет роль дорожного полотна. В качестве контейнера для хранения типа разделительной полосы (DividerType) используется std::deque, поскольку он обеспечивает константную сложность при добавлении нового участка дороги любой длины в конец (для тех же условий std::vector имел бы амортизированную О(1)). В реальных проектах на больших объёмах данных (много длинных и однотипных участков) было бы эффективнее использовать иную структуру данных.
4. Класс ConsoleDrawer из пространства имён drawer представляет чертёжника. Имеет единственный метод DrawRoad, выводящий в поток схематичное изображение дороги и машины на ней
5. Класс CarObserver из пространства observer является базовым абстрактным, позволяя создавать наблюдателей для разных целей. В данном случае есть публичный наследник TrafficLawsObserver, следящий за выполнением дорожных правил и бросающий исключения в случае нарушений:
	- IsCrossingSolid проверяет, была ли пересечена сплошная линия при выезде на противоположную полосу. Ошибка observer::Category::CrossingSolid.
	- IsDrivingAgainstDirectionOfMovement проверяет, не выполняется ли движение задом или против направления движения на текущей стороне дороги. Ошибка observer::Category::DrivingAgainstDirectionOfMovement.
	- IsGetOffTheRoad проверяет попытку врезаться в тупик, в случае обнаружения нарушения перевыбрасывает исключение, чтобы ClicksHandler вернул машину в валидное состояние. Ошибка observer::Category::GetOffTheRoad.
	- IsTurning уведомляет пользователя о начале разворота
	- IsFinishTurning уведомляет об успешном завершённом развороте. Успешным он будет, если конечное направление взгляда водителя по окончании разворота будет соответствовать направлению движения на текущей полосе. В случае неуспешного разворота будет выводиться ошибка DrivingAgainstDirectionOfMovement
6. Класс ошибок CarDrivingError из пространства имён observer содержит 3 вида нарушений. Каждое нарушение имеет соответствующее названию текстовое сообщение при вызовет метода ToString():
	- CrossingSolid - пересечение сплошного разделителя
	- DrivingAgainstDirectionOfMovement - выезд на встречную, движение задом
	- GetOffTheRoad - наезд на ограждение, в тупик
